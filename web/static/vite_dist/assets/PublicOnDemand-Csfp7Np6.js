import{_ as y}from"../InlinePlayer-Da6BgQ-8.js";import{_ as h}from"../DataTable-BhAO7RbG.js";import{_ as v,r as g}from"../icons-BAjd3tML.js";import{_ as w}from"../PlayButton-Dbj4ENWk.js";import{g as A,i as D}from"../layout-CUzOT8aY.js";import{A as B}from"../AlbumArt-CcCTgtsV.js";import{_ as N}from"../FullHeightCard-3ODKti4W.js";import{u as x}from"../useApiItemProvider-DAIhDonu.js";import{Q as $}from"../useStationQuery-ClAZEJp_.js";import{d as F,m as V,o as r,e as o,b as l,u as i,c as n,i as C,a as m,F as p,f as u,t as _}from"../vue-BsfewpWM.js";import"../MuteButton-DdyYYuLG.js";import"../FormMultiCheck-RiRcopXY.js";import"../map-Caxea7Kw.js";import"../estoolkit-DCzBkaPJ.js";import"../isArrayLike-DknTMkCU.js";import"../iteratee-DJRL6CbS.js";import"../FormCheckbox-Cc7beVle.js";import"../isTypedArray-By1PpNM0.js";import"../some-B0KiPFWm.js";import"../forEach-BFcv9GyE.js";import"../leaflet-DkUWBo0d.js";import"../hlsjs-BVyhFw5s.js";import"../bootstrap.esm-30QIU_ZL.js";import"../lightbox-B9nVyWr-.js";import"../_plugin-vue_export-helper-DlAUqK2U.js";import"../Lightbox-BrBbVZu2.js";import"../vue-router-Cafqdr3I.js";const I={class:"d-flex align-items-center"},O={class:"flex-shrink"},P={class:"card-title py-2"},T={class:"flex-fill text-end"},Q=["href","title"],U=F({__name:"OnDemand",props:{listUrl:{},stationName:{},customFields:{default:()=>[]},showDownloadButton:{type:Boolean,default:!1}},setup(f){const d=f,{$gettext:a}=A(),c=[{key:"download_url",label:" ",class:"shrink"},{key:"art",label:a("Art"),class:"shrink"},{key:"title",label:a("Title"),sortable:!0,selectable:!0,formatter:(t,s,e)=>e.media.title},{key:"artist",label:a("Artist"),sortable:!0,selectable:!0,formatter:(t,s,e)=>e.media.artist},{key:"album",label:a("Album"),sortable:!0,selectable:!0,visible:!1,formatter:(t,s,e)=>e.media.album}];for(const t of d.customFields.slice())c.push({key:t.display_key,label:t.label,sortable:!0,selectable:!0,visible:!1,formatter:(s,e,k)=>k.media.custom_fields[t.key]});const b=x(d.listUrl,[$.PublicOnDemand]);return(t,s)=>(r(),V(N,null,{header:o(()=>[m("div",I,[m("div",O,[m("h2",P,[t.stationName?(r(),n(p,{key:0},[u(_(t.stationName),1)],64)):(r(),n(p,{key:1},[u(_(i(a)("On-Demand Media")),1)],64))])]),m("div",T,[l(y,{ref:"player"},null,512)])])]),default:o(()=>[l(h,{id:"public_on_demand",paginated:"","select-fields":"",fields:c,provider:i(b)},{"cell(download_url)":o(e=>[l(w,{class:"btn-lg",stream:{title:e.item.media.text,url:e.item.download_url}},null,8,["stream"]),t.showDownloadButton?(r(),n("a",{key:0,class:"name btn btn-lg p-0 ms-2",href:e.item.download_url,target:"_blank",title:i(a)("Download")},[l(v,{icon:i(g)},null,8,["icon"])],8,Q)):C("",!0)]),"cell(art)":o(e=>[l(B,{src:e.item.media.art},null,8,["src"])]),_:1},8,["provider"])]),_:1}))}});D(U);
