import{d as h,g as i,m as y,o as l,e as q,b as s,p as f,u as d,G as M,c as $,a as o,i as w,t as c,l as k,F as H}from"../vue-BsfewpWM.js";import{_ as B}from"../SongHistory-B7mmtKRz.js";import{u as v,_ as A}from"../useHasModal-Bq3QxExQ.js";import{_ as P}from"../Requests-CxR2kJbS.js";import{s as R,_,i as S,r as x}from"../icons-BAjd3tML.js";import{_ as N}from"../Player-Cc7TbnOW.js";import{_ as C}from"../Lightbox-BrBbVZu2.js";import{u as F}from"../lightbox-B9nVyWr-.js";import{i as U}from"../layout-CUzOT8aY.js";import"../AlbumArt-CcCTgtsV.js";import"../_plugin-vue_export-helper-DlAUqK2U.js";import"../luxon-m3VuE4xT.js";import"../luxon-F75Z0klY.js";import"../bootstrap.esm-30QIU_ZL.js";import"../Loading-CQdAiB8R.js";import"../DataTable-BhAO7RbG.js";import"../FormMultiCheck-RiRcopXY.js";import"../map-Caxea7Kw.js";import"../estoolkit-DCzBkaPJ.js";import"../isArrayLike-DknTMkCU.js";import"../iteratee-DJRL6CbS.js";import"../FormCheckbox-Cc7beVle.js";import"../isTypedArray-By1PpNM0.js";import"../some-B0KiPFWm.js";import"../forEach-BFcv9GyE.js";import"../useApiItemProvider-DAIhDonu.js";import"../useStationQuery-ClAZEJp_.js";import"../vue-router-Cafqdr3I.js";import"../PlayButton-Dbj4ENWk.js";import"../useNowPlaying-M_Wycmtp.js";import"../getSymbolsIn-Bpzy0hqO.js";import"../MuteButton-DdyYYuLG.js";import"../leaflet-DkUWBo0d.js";import"../hlsjs-BVyhFw5s.js";const I=h({__name:"SongHistoryModal",props:{history:{},showAlbumArt:{type:Boolean,default:!0}},setup(m,{expose:r}){const a=i("$modal"),{show:n}=v(a);return r({open:n}),(e,p)=>(l(),y(A,{id:"song_history_modal",ref_key:"$modal",ref:a,size:"md",title:e.$gettext("Song History"),centered:""},{default:q(()=>[s(B,{"show-album-art":e.showAlbumArt,history:e.history},null,8,["show-album-art","history"])]),_:1},8,["title"]))}}),L=h({inheritAttrs:!1,__name:"RequestModal",props:{requestListUri:{},showAlbumArt:{type:Boolean},customFields:{}},setup(m,{expose:r}){const a=m,n=i("$modal"),{show:e,hide:p}=v(n);return r({open:e}),(u,b)=>(l(),y(A,{id:"request_modal",ref_key:"$modal",ref:n,size:"lg",title:u.$gettext("Request a Song"),"hide-footer":""},{default:q(()=>[s(P,f(a,{onSubmitted:d(p)}),null,16,["onSubmitted"])]),_:1},8,["title"]))}}),V={class:"public-page"},z={class:"card"},D={class:"card-body"},T={class:"card-title mb-3"},E={class:"stations nowplaying"},G={class:"card-body buttons pt-0"},j=["href"],J=h({__name:"FullPlayer",props:{stationName:{},enableRequests:{type:Boolean,default:!1},downloadPlaylistUri:{},nowPlayingProps:{},offlineText:{},showHls:{type:Boolean},showAlbumArt:{type:Boolean},autoplay:{type:Boolean},requestListUri:{},customFields:{}},setup(m){const r=m,a=M([]),n=t=>{a.value=t?.song_history},e=i("$songHistoryModal"),p=()=>{e.value?.open()},u=i("$requestModal"),b=()=>{u.value?.open()},g=i("$lightbox");return F(g),(t,K)=>(l(),$(H,null,[o("div",V,[o("div",z,[o("div",D,[o("h2",T,c(t.stationName),1),o("div",E,[s(N,f(r,{onNp_updated:n}),null,16)])]),o("div",G,[o("a",{class:"btn btn-link text-secondary",onClick:k(p,["prevent"])},[s(_,{icon:d(R)},null,8,["icon"]),o("span",null,c(t.$gettext("Song History")),1)]),t.enableRequests?(l(),$("a",{key:0,class:"btn btn-link text-secondary",onClick:k(b,["prevent"])},[s(_,{icon:d(S)},null,8,["icon"]),o("span",null,c(t.$gettext("Request Song")),1)])):w("",!0),o("a",{class:"btn btn-link text-secondary",href:t.downloadPlaylistUri},[s(_,{icon:d(x)},null,8,["icon"]),o("span",null,c(t.$gettext("Playlist")),1)],8,j)])])]),s(I,{ref_key:"$songHistoryModal",ref:e,"show-album-art":t.showAlbumArt,history:a.value},null,8,["show-album-art","history"]),t.enableRequests?(l(),y(L,f({key:0,ref_key:"$requestModal",ref:u},r),null,16)):w("",!0),s(C,{ref_key:"$lightbox",ref:g},null,512)],64))}});U(J);
