import{u as S}from"./layout-CUzOT8aY.js";import{_ as x}from"./FormGroup-DXDHSoyc.js";import{_ as h}from"./FormFile-B5B3WV6y.js";import{_ as $}from"./Tabs-DMTPhsiO.js";import{d as V,af as y,A as B,r as f,B as C,K as D,q as N,m as M,o as w,e as l,a,c as R,i as U,b as _,f as k,t as d}from"./vue-BsfewpWM.js";const P={class:"row g-3"},z={class:"col-md-8"},E={key:0,class:"col-md-4"},F=["src","alt"],G={class:"block-buttons pt-3"},T=V({__name:"Artwork",props:y({artworkSrc:{},newArtUrl:{}},{modelValue:{},modelModifiers:{}}),emits:["update:modelValue"],setup(i){const t=i,g=B(i,"modelValue"),m=f(t.artworkSrc),o=()=>{m.value=t.artworkSrc+"?"+Math.floor(Date.now()/1e3)};C(D(t,"artworkSrc"),o);const r=f(null),c=N(()=>r.value??m.value),{axios:u}=S(),v=async e=>{if(e===null)return;const s=new FileReader;s.addEventListener("load",()=>{r.value=s.result},!1),s.readAsDataURL(e);const n=t.artworkSrc?t.artworkSrc:t.newArtUrl,p=new FormData;p.append("art",e);const{data:A}=await u.post(n,p);g.value=A,o()},b=async()=>{t.artworkSrc?(await u.delete(t.artworkSrc),o(),r.value=null):(o(),r.value=null)};return(e,s)=>(w(),M($,{label:e.$gettext("Artwork")},{default:l(()=>[a("div",P,[a("div",z,[_(x,{id:"edit_form_art"},{label:l(()=>[k(d(e.$gettext("Select PNG/JPG artwork file")),1)]),description:l(()=>[k(d(e.$gettext("Artwork must be a minimum size of 1400 x 1400 pixels and a maximum size of 3000 x 3000 pixels for Apple Podcasts.")),1)]),default:l(({id:n})=>[_(h,{id:n,accept:"image/jpeg, image/png",onUploaded:v},null,8,["id"])]),_:1})]),c.value&&c.value!==""?(w(),R("div",E,[a("img",{src:c.value,alt:e.$gettext("Artwork"),class:"rounded img-fluid"},null,8,F),a("div",G,[a("button",{type:"button",class:"btn btn-block btn-danger",onClick:b},d(e.$gettext("Clear Artwork")),1)])])):U("",!0)])]),_:1},8,["label"]))}});export{T as _};
