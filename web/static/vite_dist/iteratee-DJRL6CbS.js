import{d as y,e as b,f as E,c as M,g as w,h as I,j as m,k as q,s as x,n as P,l as T,i as D}from"./estoolkit-DCzBkaPJ.js";function g(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}function A(n){return typeof n=="string"||typeof n=="symbol"?n:Object.is(n?.valueOf?.(),-0)?"-0":String(n)}function O(n){const e=[],r=n.length;if(r===0)return e;let t=0,i="",s="",f=!1;for(n.charCodeAt(0)===46&&(e.push(""),t++);t<r;){const u=n[t];s?u==="\\"&&t+1<r?(t++,i+=n[t]):u===s?s="":i+=u:f?u==='"'||u==="'"?s=u:u==="]"?(f=!1,e.push(i),i=""):i+=u:u==="["?(f=!0,i&&(e.push(i),i="")):u==="."?i&&(e.push(i),i=""):i+=u,t++}return i&&e.push(i),e}function d(n,e,r){if(n==null)return r;switch(typeof e){case"string":{if(y(e))return r;const t=n[e];return t===void 0?g(e)?d(n,O(e),r):r:t}case"number":case"symbol":{typeof e=="number"&&(e=A(e));const t=n[e];return t===void 0?r:t}default:{if(Array.isArray(e))return N(n,e,r);if(Object.is(e?.valueOf(),-0)?e="-0":e=String(e),y(e))return r;const t=n[e];return t===void 0?r:t}}}function N(n,e,r){if(e.length===0)return r;let t=n;for(let i=0;i<e.length;i++){if(t==null||y(e[i]))return r;t=t[e[i]]}return t===void 0?r:t}function j(n){return function(e){return d(e,n)}}function W(n){return n!==null&&(typeof n=="object"||typeof n=="function")}function _(n,e,r){return typeof r!="function"?h(n,e):a(n,e,function t(i,s,f,u,l,o){const c=r(i,s,f,u,l,o);return c!==void 0?!!c:a(i,s,t,o)},new Map)}function a(n,e,r,t){if(e===n)return!0;switch(typeof e){case"object":return z(n,e,r,t);case"function":return Object.keys(e).length>0?a(n,{...e},r,t):b(n,e);default:return W(n)?typeof e=="string"?e==="":!0:b(n,e)}}function z(n,e,r,t){if(e==null)return!0;if(Array.isArray(e))return S(n,e,r,t);if(e instanceof Map)return G(n,e,r,t);if(e instanceof Set)return $(n,e,r,t);const i=Object.keys(e);if(n==null)return i.length===0;if(i.length===0)return!0;if(t&&t.has(e))return t.get(e)===n;t&&t.set(e,n);try{for(let s=0;s<i.length;s++){const f=i[s];if(!E(n)&&!(f in n)||e[f]===void 0&&n[f]!==void 0||e[f]===null&&n[f]!==null||!r(n[f],e[f],f,n,e,t))return!1}return!0}finally{t&&t.delete(e)}}function G(n,e,r,t){if(e.size===0)return!0;if(!(n instanceof Map))return!1;for(const[i,s]of e.entries()){const f=n.get(i);if(r(f,s,i,n,e,t)===!1)return!1}return!0}function S(n,e,r,t){if(e.length===0)return!0;if(!Array.isArray(n))return!1;const i=new Set;for(let s=0;s<e.length;s++){const f=e[s];let u=!1;for(let l=0;l<n.length;l++){if(i.has(l))continue;const o=n[l];let c=!1;if(r(o,f,s,n,e,t)&&(c=!0),c){i.add(l),u=!0;break}}if(!u)return!1}return!0}function $(n,e,r,t){return e.size===0?!0:n instanceof Set?S([...n],[...e],r,t):!1}function h(n,e){return _(n,e,()=>{})}function C(n){return n=M(n),e=>h(e,n)}function R(n,e){return w(n,(r,t,i,s)=>{if(typeof n=="object")switch(Object.prototype.toString.call(n)){case P:case x:case q:{const f=new n.constructor(n?.valueOf());return m(f,n),f}case I:{const f={};return m(f,n),f.length=n.length,f[Symbol.iterator]=n[Symbol.iterator],f}default:return}})}function U(n){return R(n)}const B=/^(?:0|[1-9]\d*)$/;function F(n,e=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<e;case"symbol":return!1;case"string":return B.test(n)}}function K(n){return n!==null&&typeof n=="object"&&T(n)==="[object Arguments]"}function X(n,e){let r;if(Array.isArray(e)?r=e:typeof e=="string"&&g(e)&&n?.[e]==null?r=O(e):r=[e],r.length===0)return!1;let t=n;for(let i=0;i<r.length;i++){const s=r[i];if((t==null||!Object.hasOwn(t,s))&&!((Array.isArray(t)||K(t))&&F(s)&&s<t.length))return!1;t=t[s]}return!0}function H(n,e){switch(typeof n){case"object":{Object.is(n?.valueOf(),-0)&&(n="-0");break}case"number":{n=A(n);break}}return e=U(e),function(r){const t=d(r,n);return t===void 0?X(r,n):e===void 0?t===void 0:h(t,e)}}function Q(n){if(n==null)return D;switch(typeof n){case"function":return n;case"object":return Array.isArray(n)&&n.length===2?H(n[0],n[1]):C(n);case"string":case"symbol":case"number":return j(n)}}export{K as a,C as b,g as c,A as d,W as e,F as f,d as g,U as h,Q as i,X as j,H as m,j as p,O as t};
