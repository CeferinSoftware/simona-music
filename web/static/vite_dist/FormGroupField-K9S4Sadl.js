import{d as D,a9 as E,q as $,x as P,g as R,h as V,n as I,m as g,a6 as U,e as o,p as m,o as i,b as j,k as f,u as t,c,i as h,a as z,t as y,l as G,L,M as O,f as B,w as T,y as H,aa as J}from"./vue-BsfewpWM.js";import{_ as K}from"./FormGroup-DXDHSoyc.js";import{u as Q,_ as W,a as X}from"./ValidationError-DsAp6Fjg.js";const Y=["id","name","required"],Z=["id","type","name","required"],w={key:0,class:"buttons"},ae=D({__name:"FormGroupField",props:{required:{type:Boolean},modelValue:{},field:{},advanced:{type:Boolean},highCpu:{type:Boolean},id:{},name:{},label:{},description:{},inputType:{default:"text"},inputNumber:{type:Boolean,default:!1},inputTrim:{type:Boolean,default:!1},inputEmptyIsNull:{type:Boolean,default:!1},inputAttrs:{default:()=>({})},autofocus:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(N,{expose:q,emit:C}){const a=N,v=E(),F=C,{model:n,isValidatedField:M,fieldClass:r,isRequired:d}=Q(a,F),b=$(()=>a.inputNumber||a.inputType==="number"||a.inputType==="range"),s=$({get(){return n.value},set(e){(b.value||a.inputEmptyIsNull)&&e===""?n.value=null:(a.inputTrim&&e!==null&&(e=String(e).replace(/^\s+|\s+$/gm,"")),b.value&&(e=Number(e)),n.value=e)}}),A=P({$model:s}),u=R("$input"),k=()=>{u.value?.focus()},S=()=>{s.value=""};return V(()=>{a.autofocus&&I(()=>{k()})}),q({focus:k}),(e,l)=>(i(),g(K,m(e.$attrs,{id:e.id}),U({default:o(()=>[f(e.$slots,"default",L(O({id:e.id,field:e.field,model:A,fieldClass:t(r),inputAttrs:e.inputAttrs})),()=>[e.inputType==="textarea"?T((i(),c("textarea",m({key:0},e.inputAttrs,{id:e.id,ref_key:"$input",ref:u,"onUpdate:modelValue":l[0]||(l[0]=p=>s.value=p),name:e.name,required:t(d),class:["form-control",t(r)]}),null,16,Y)),[[H,s.value]]):T((i(),c("input",m({key:1},e.inputAttrs,{id:e.id,ref_key:"$input",ref:u,"onUpdate:modelValue":l[1]||(l[1]=p=>s.value=p),type:e.inputType,name:e.name,required:t(d),class:["form-control",t(r)]}),null,16,Z)),[[J,s.value]])]),t(M)?(i(),g(X,{key:0,field:e.field},null,8,["field"])):h("",!0)]),_:2},[e.label||v.label?{name:"label",fn:o(()=>[j(W,{"is-required":t(d),advanced:a.advanced,"high-cpu":a.highCpu},{default:o(()=>[f(e.$slots,"label",{},()=>[B(y(e.label),1)])]),_:3},8,["is-required","advanced","high-cpu"])]),key:"0"}:void 0,e.description||v.description||e.clearable?{name:"description",fn:o(()=>[e.clearable?(i(),c("div",w,[z("button",{type:"button",class:"btn btn-sm btn-outline-secondary",onClick:G(S,["prevent"])},y(e.$gettext("Clear Field")),1)])):h("",!0),f(e.$slots,"description",{},()=>[B(y(e.description),1)])]),key:"1"}:void 0]),1040,["id"]))}});export{ae as _};
