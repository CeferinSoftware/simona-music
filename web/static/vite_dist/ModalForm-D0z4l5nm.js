import{d as v,g as k,m as C,o as c,a6 as w,D as z,e as r,k as s,L as l,M as i,u as d,a as m,t as u,s as M,f as N,c as V,i as E,l as _,b as D}from"./vue-BsfewpWM.js";import{I as F}from"./InvisibleSubmitButton-NGv_v7G8.js";import{u as H}from"./useSlotsExcept-Dp0PSXNw.js";import{u as I,_ as L}from"./useHasModal-Bq3QxExQ.js";const P={key:0,class:"alert alert-danger"},R=["disabled"],J=v({__name:"ModalForm",props:{title:{},size:{default:"lg"},centered:{type:Boolean,default:!1},id:{default:"edit-modal"},loading:{type:Boolean,default:!1},disableSaveButton:{type:Boolean,default:!1},noEnforceFocus:{type:Boolean,default:!1},error:{}},emits:["submit","shown","hidden"],setup(T,{expose:y,emit:g}){const a=g,f=()=>{a("submit")},h=()=>{a("shown")},B=()=>{a("hidden")},p=k("$modal"),{show:S,hide:n}=I(p);return y({show:S,hide:n}),(e,b)=>(c(),C(L,{id:e.id,ref_key:"$modal",ref:p,size:e.size,title:e.title,busy:e.loading,onShown:h,onHidden:B},w({default:r(o=>[e.error?(c(),V("div",P,u(e.error),1)):E("",!0),m("form",{class:"form vue-form",onSubmit:_(f,["prevent"])},[s(e.$slots,"default",l(i(o))),D(F)],32)]),"modal-footer":r(o=>[s(e.$slots,"modal-footer",l(i(o)),()=>[m("button",{class:"btn btn-secondary",type:"button",onClick:b[0]||(b[0]=(...t)=>d(n)&&d(n)(...t))},u(e.$gettext("Close")),1),m("button",{class:M(["btn",e.disableSaveButton?"btn-danger":"btn-primary"]),disabled:e.loading,type:"submit",onClick:f},[s(e.$slots,"save-button-name",{},()=>[N(u(e.$gettext("Save Changes")),1)])],10,R)])]),_:2},[z(d(H)(["default","modal-footer"]),(o,t)=>({name:t,fn:r($=>[s(e.$slots,t,l(i($)))])}))]),1032,["id","size","title","busy"]))}});export{J as _};
