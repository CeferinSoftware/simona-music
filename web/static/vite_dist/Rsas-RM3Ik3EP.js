import{_ as g}from"./FlowUpload-BbQl79KV.js";import{g as A,u as R,a5 as w}from"./layout-CUzOT8aY.js";import{_ as L}from"./Loading-CQdAiB8R.js";import{_ as C}from"./CardPage-Cth3uewv.js";import{g as y}from"./useStationQuery-ClAZEJp_.js";import{d as I,r as m,q as V,h as B,m as D,o as l,e as h,a as e,b as p,t as a,u as s,f as x,c as i,i as N}from"./vue-BsfewpWM.js";import"./formatFileSize--9DaIXge.js";import"./icons-BAjd3tML.js";import"./leaflet-DkUWBo0d.js";import"./forEach-BFcv9GyE.js";import"./estoolkit-DCzBkaPJ.js";import"./isArrayLike-DknTMkCU.js";import"./defaultsDeep-B9v54JJt.js";import"./hlsjs-BVyhFw5s.js";import"./bootstrap.esm-30QIU_ZL.js";import"./InfoCard-D5Q671bF.js";import"./vue-router-Cafqdr3I.js";const T={class:"card-body"},U={class:"row g-3"},$={class:"col-md-7"},z={class:"card-text"},K={class:"card-text"},q={href:"https://www.rocketbroadcaster.com/streaming-audio-server/download/",target:"_blank"},E={class:"col-md-5"},M={class:"mb-3"},j={class:"mb-3"},F={key:0,class:"text-success card-text"},G={key:1,class:"text-danger card-text"},H={class:"mb-3"},J={key:0,class:"text-success card-text"},O={key:1,class:"text-danger card-text"},P={key:0,class:"buttons block-buttons mt-3"},pe=I({__name:"Rsas",setup(Q){const _=y("/admin/rsas"),f=y("/admin/rsas/license"),c=m(!0),d=m(null),u=m(!1),{$gettext:t}=A(),b=V(()=>t('RSAS version "%{version}" is currently installed.',{version:d.value??"N/A"})),{axios:v}=R(),r=async()=>{c.value=!0;const{data:n}=await v.get(_.value);d.value=n.version,u.value=n.hasLicense,c.value=!1},{confirmDelete:k}=w(),S=async()=>{const{value:n}=await k({title:t("Remove RSAS license key?"),confirmButtonText:t("Remove License Key")});n&&(await v.delete(f.value),await r())};return B(r),(n,o)=>(l(),D(C,{"header-id":"hdr_install_rsas",title:s(t)("Install RSAS")},{default:h(()=>[e("div",T,[p(L,{loading:c.value},{default:h(()=>[e("div",U,[e("div",$,[e("fieldset",null,[e("legend",null,a(s(t)("Instructions")),1),e("p",z,a(s(t)("Rocket Streaming Audio Server (RSAS) is a closed-source alternative to Icecast as a broadcasting frontend. As it is proprietary, AzuraCast cannot distribute it, but you can install it via this page. If installed, stations can select it as their broadcasting software.")),1),e("p",K,a(s(t)("In order to install RSAS:")),1),e("ul",null,[e("li",null,[x(a(s(t)("Download the proper statically linked binary for your platform from the RSAS download page:"))+" ",1),o[0]||(o[0]=e("br",null,null,-1)),e("a",q,a(s(t)("Download RSAS")),1)]),e("li",null,[x(a(s(t)("The file name should look like:"))+" ",1),o[1]||(o[1]=e("br",null,null,-1)),o[2]||(o[2]=e("code",null,"rsas-1.x.x-linux-(amd64/aarch64).tar.gz",-1))]),e("li",null,a(s(t)("Upload the file on this page to automatically extract it into the proper directory.")),1),e("li",null,a(s(t)("If using the paid version of RSAS, upload the license key file separately.")),1)])])]),e("div",E,[e("div",M,[e("fieldset",j,[e("legend",null,a(s(t)("Current Installed Version")),1),d.value?(l(),i("p",F,a(b.value),1)):(l(),i("p",G,a(s(t)("RSAS is not currently installed on this installation.")),1))]),p(g,{"target-url":s(_),"valid-mime-types":[".tar.gz"],onComplete:r},null,8,["target-url"])]),e("div",null,[e("fieldset",H,[e("legend",null,a(s(t)("License Key")),1),u.value?(l(),i("p",J,a(s(t)("License key is currently installed.")),1)):(l(),i("p",O,a(s(t)("License key is not is not currently installed.")),1))]),p(g,{"target-url":s(f),"valid-mime-types":[".key"],accept:"",onComplete:r},null,8,["target-url"]),u.value?(l(),i("div",P,[e("button",{type:"button",class:"btn btn-danger",onClick:S},a(s(t)("Remove License Key")),1)])):N("",!0)])])])]),_:1},8,["loading"])])]),_:1},8,["title"]))}});export{pe as default};
