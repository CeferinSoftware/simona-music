import{_ as c}from"./LogList-a5B8FtxY.js";import{_ as $}from"./StreamingLogModal-DW2-b89u.js";import{_ as g}from"./CardPage-Cth3uewv.js";import{a as b,_ as k}from"./Tabs-DMTPhsiO.js";import{g as v,a as w,Q as x}from"./useStationQuery-ClAZEJp_.js";import{u as V}from"./layout-CUzOT8aY.js";import{_ as B}from"./Loading-CQdAiB8R.js";import{d as A,g as C,c as u,o as s,a as m,b as a,m as n,i as p,e as r,u as o,F as f,D}from"./vue-BsfewpWM.js";import"./StreamingLogView-DMGIufU5.js";import"./FormGroupCheckbox-ZsJmXmB6.js";import"./ValidationError-DsAp6Fjg.js";import"./FormGroup-DXDHSoyc.js";import"./FormCheckbox-Cc7beVle.js";import"./useHasModal-Bq3QxExQ.js";import"./bootstrap.esm-30QIU_ZL.js";import"./index.es-DJGkFkUi.js";import"./theme-BQjAlSn5.js";import"./InfoCard-D5Q671bF.js";import"./icons-BAjd3tML.js";import"./vue-router-Cafqdr3I.js";import"./leaflet-DkUWBo0d.js";import"./estoolkit-DCzBkaPJ.js";import"./hlsjs-BVyhFw5s.js";const F={class:"row-of-cards"},N={class:"card-body"},Q={class:"card-body-flush"},at=A({__name:"Logs",setup(q){const{axios:y}=V(),h=v("/admin/logs"),{data:e,isLoading:L}=w({queryKey:[x.AdminDebug,"logs"],queryFn:async({signal:t})=>{const{data:i}=await y.get(h.value,{signal:t});return i},placeholderData:()=>({globalLogs:[],stationLogs:[]})}),d=C("$modal"),_=(t,i)=>{d.value?.show(t,i)};return(t,i)=>(s(),u(f,null,[m("div",F,[a(g,{"header-id":"hdr_system_logs",title:t.$gettext("System Logs")},{default:r(()=>[a(B,{loading:o(L),lazy:""},{default:r(()=>[o(e)?(s(),n(c,{key:0,logs:o(e).globalLogs,onView:_},null,8,["logs"])):p("",!0)]),_:1},8,["loading"])]),_:1},8,["title"]),o(e)&&o(e).stationLogs.length>0?(s(),n(g,{key:0,"header-id":"hdr_logs_by_station",title:t.$gettext("Logs by Station")},{default:r(()=>[m("div",N,[a(b,{"content-class":"mt-3"},{default:r(()=>[(s(!0),u(f,null,D(o(e).stationLogs,l=>(s(),n(k,{key:l.id,label:l.name},{default:r(()=>[m("div",Q,[a(c,{logs:l.logs,onView:_},null,8,["logs"])])]),_:2},1032,["label"]))),128))]),_:1})])]),_:1},8,["title"])):p("",!0)]),a($,{ref_key:"$modal",ref:d},null,512)],64))}});export{at as default};
