import{_ as f}from"./FlowUpload-BbQl79KV.js";import{_ as p}from"./InfoCard-D5Q671bF.js";import{u as b,f as h}from"./layout-CUzOT8aY.js";import{_ as g}from"./FormMarkup-DqBjuQjX.js";import{_ as k}from"./FormGroup-DXDHSoyc.js";import{e as y}from"./useStationQuery-ClAZEJp_.js";import{d as v,r as $,h as w,c,o as n,a as e,b as s,t as a,e as o,u as x,f as _}from"./vue-BsfewpWM.js";import"./formatFileSize--9DaIXge.js";import"./icons-BAjd3tML.js";import"./leaflet-DkUWBo0d.js";import"./forEach-BFcv9GyE.js";import"./estoolkit-DCzBkaPJ.js";import"./isArrayLike-DknTMkCU.js";import"./defaultsDeep-B9v54JJt.js";import"./hlsjs-BVyhFw5s.js";import"./bootstrap.esm-30QIU_ZL.js";import"./vue-router-Cafqdr3I.js";const F={class:"card",role:"region","aria-labelledby":"hdr_fallback_file"},C={class:"card-header text-bg-primary"},S={id:"hdr_fallback_file",class:"card-title"},N={class:"card-text"},B={class:"card-body"},T={class:"row g-3"},U={key:0},V={class:"block-buttons pt-3"},A=["href"],D={key:1},tt=v({__name:"Fallback",setup(E){const l=y("/fallback"),i=$(null),{axios:d}=b(),r=async()=>{const{data:t}=await d.get(l.value);i.value=t.url};w(r);const{notifySuccess:m}=h(),u=async()=>{await d.delete(l.value),m(),await r()};return(t,M)=>(n(),c("section",F,[e("div",C,[e("h2",S,a(t.$gettext("Custom Fallback File")),1)]),s(p,null,{default:o(()=>[e("p",N,a(t.$gettext("This file will be played on your radio station any time no media is scheduled to play or a critical error occurs that interrupts regular broadcasting.")),1)]),_:1}),e("div",B,[e("div",T,[s(k,{id:"intro_file",class:"col-md-6"},{label:o(()=>[_(a(t.$gettext("Select Custom Fallback File")),1)]),default:o(()=>[s(f,{"target-url":x(l),"valid-mime-types":["audio/*"],onSuccess:r},null,8,["target-url"])]),_:1}),s(g,{id:"current_custom_fallback_file",class:"col-md-6"},{label:o(()=>[_(a(t.$gettext("Current Custom Fallback File")),1)]),default:o(()=>[i.value?(n(),c("div",U,[e("div",V,[e("a",{class:"btn btn-block btn-dark",href:i.value,target:"_blank"},a(t.$gettext("Download")),9,A),e("button",{type:"button",class:"btn btn-block btn-danger",onClick:u},a(t.$gettext("Clear File")),1)])])):(n(),c("div",D,a(t.$gettext("There is no existing custom fallback file associated with this station.")),1))]),_:1})])])]))}});export{tt as default};
