import{_ as P}from"./Loading-CQdAiB8R.js";import{u as A}from"./vue-router-Cafqdr3I.js";import{e as T,a as w,Q as x}from"./useStationQuery-ClAZEJp_.js";import{u as B}from"./layout-CUzOT8aY.js";import{u as f}from"./assets/PublicPodcasts-DtWLgKAi.js";import{_ as C,u as E}from"./usePodcastQuery-DH1XIpFB.js";import{A as F}from"./AlbumArt-CcCTgtsV.js";import{_ as L}from"./PlayButton-Dbj4ENWk.js";import{u as N}from"./useStationDateTimeFormatter-CkmvkIuo.js";import{d as y,j as Q,c as r,o as a,F as V,a as e,b as c,e as _,f as h,t,i as u,u as o,m as g,q}from"./vue-BsfewpWM.js";import"./leaflet-DkUWBo0d.js";import"./estoolkit-DCzBkaPJ.js";import"./hlsjs-BVyhFw5s.js";import"./bootstrap.esm-30QIU_ZL.js";import"./FullHeightCard-3ODKti4W.js";import"./Lightbox-BrBbVZu2.js";import"./lightbox-B9nVyWr-.js";import"./InlinePlayer-Da6BgQ-8.js";import"./icons-BAjd3tML.js";import"./MuteButton-DdyYYuLG.js";import"./createRequiredInjectionState-DsPBlyVY.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./luxon-m3VuE4xT.js";import"./luxon-F75Z0klY.js";const D={class:"card-body"},I={"aria-label":"breadcrumb"},S={class:"breadcrumb m-0"},z={class:"breadcrumb-item"},K={class:"breadcrumb-item"},U={class:"breadcrumb-item"},j={class:"card-body alert alert-secondary","aria-live":"polite"},G={class:"card-body"},R={class:"d-flex"},W={class:"flex-shrink-0 pe-3"},H={class:"flex-fill"},J={class:"card-title mb-1"},M={class:"badges my-2"},O={key:0,class:"badge text-bg-secondary"},X={key:1,class:"badge text-bg-secondary"},Y={key:2,class:"badge text-bg-danger"},Z={class:"card-text"},ss={class:"flex-shrink-0 ps-3"},es=y({__name:"PodcastEpisode",props:{podcast:{},episode:{}},setup(k){const{stationTz:p}=f(),{formatTimestampAsDateTime:i}=N(p);return(s,d)=>{const n=Q("router-link");return a(),r(V,null,[e("div",D,[e("nav",I,[e("ol",S,[e("li",z,[c(n,{to:{name:"public:podcasts"}},{default:_(()=>[h(t(s.$gettext("Podcasts")),1)]),_:1})]),e("li",K,[c(n,{to:{name:"public:podcast",params:{podcast_id:s.podcast.id}}},{default:_(()=>[h(t(s.podcast.title),1)]),_:1},8,["to"])]),e("li",U,t(s.episode.title),1)])])]),e("div",j,[c(C,{podcast:s.podcast},null,8,["podcast"])]),e("div",G,[e("div",R,[e("div",W,[c(L,{"icon-class":"xl",stream:{title:s.episode.title,url:s.episode.links.download}},null,8,["stream"])]),e("div",H,[e("h4",J,t(s.episode.title),1),e("div",M,[s.episode.publish_at?(a(),r("span",O,t(o(i)(s.episode.publish_at)),1)):(a(),r("span",X,t(o(i)(s.episode.created_at)),1)),s.episode.explicit?(a(),r("span",Y,t(s.$gettext("Explicit")),1)):u("",!0)]),e("p",Z,t(s.episode.description),1)]),e("div",ss,[s.episode.art!==null?(a(),g(F,{key:0,src:s.episode.art,width:96},null,8,["src"])):u("",!0)])])])],64)}}}),ts={class:"full-height-scrollable"},xs=y({__name:"PodcastEpisodeWrapper",setup(k){const{stationId:p}=f(),{data:i,isLoading:s}=E(),{params:d}=A(),n=T(q(()=>{const l=d.podcast_id,m=d.episode_id;return`/public/podcast/${l}/episode/${m}`}),p),{axios:v}=B(),{data:b,isLoading:$}=w({queryKey:[x.PublicPodcasts,{station:p},d.podcast_id,"episodes",d.episode_id],queryFn:async({signal:l})=>{const{data:m}=await v.get(n.value,{signal:l});return m},staleTime:300*1e3});return(l,m)=>(a(),r("div",ts,[c(P,{loading:o(s)||o($),lazy:""},{default:_(()=>[o(i)&&o(b)?(a(),g(es,{key:0,podcast:o(i),episode:o(b)},null,8,["podcast","episode"])):u("",!0)]),_:1},8,["loading"])]))}});export{xs as default};
