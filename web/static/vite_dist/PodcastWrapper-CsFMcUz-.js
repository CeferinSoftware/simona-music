import{_ as T}from"./Loading-CQdAiB8R.js";import{e as S,Q as B}from"./useStationQuery-ClAZEJp_.js";import{_ as C}from"./DataTable-BhAO7RbG.js";import{A as g}from"./AlbumArt-CcCTgtsV.js";import{g as D}from"./layout-CUzOT8aY.js";import{_ as E,au as I}from"./icons-BAjd3tML.js";import{_ as x}from"./PlayButton-Dbj4ENWk.js";import{u as N}from"./useStationDateTimeFormatter-CkmvkIuo.js";import{_ as V,u as F}from"./usePodcastQuery-DH1XIpFB.js";import{_ as Q}from"./GridLayout-AJxsJEyy.js";import{u as z}from"./assets/PublicPodcasts-DtWLgKAi.js";import{u as L}from"./useApiItemProvider-DAIhDonu.js";import{d as P,q as $,j as R,c,o as e,F as U,a as t,m as _,b as i,e as r,f as p,t as a,u as o,i as m}from"./vue-BsfewpWM.js";import"./vue-router-Cafqdr3I.js";import"./FormMultiCheck-RiRcopXY.js";import"./map-Caxea7Kw.js";import"./estoolkit-DCzBkaPJ.js";import"./isArrayLike-DknTMkCU.js";import"./iteratee-DJRL6CbS.js";import"./FormCheckbox-Cc7beVle.js";import"./isTypedArray-By1PpNM0.js";import"./some-B0KiPFWm.js";import"./forEach-BFcv9GyE.js";import"./lightbox-B9nVyWr-.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./leaflet-DkUWBo0d.js";import"./hlsjs-BVyhFw5s.js";import"./bootstrap.esm-30QIU_ZL.js";import"./luxon-m3VuE4xT.js";import"./luxon-F75Z0klY.js";import"./FullHeightCard-3ODKti4W.js";import"./Lightbox-BrBbVZu2.js";import"./InlinePlayer-Da6BgQ-8.js";import"./MuteButton-DdyYYuLG.js";import"./createRequiredInjectionState-DsPBlyVY.js";const j={class:"card-body"},q={class:"d-flex"},G={class:"flex-fill"},K={"aria-label":"breadcrumb"},W={class:"breadcrumb"},H={class:"breadcrumb-item"},J={class:"breadcrumb-item"},M={class:"buttons"},O=["href"],X={class:"flex-shrink ps-3"},Y={class:"m-0"},Z={class:"badges my-2"},ss={key:0,class:"badge text-bg-secondary"},ts={key:1,class:"badge text-bg-secondary"},os={key:2,class:"badge text-bg-danger"},as={class:"card-text"},es={class:"btn-group btn-group-sm"},is={class:"card mb-4"},rs={class:"card-header d-flex align-items-center"},cs={class:"flex-shrink-0 pe-2"},ds={class:"card-title flex-fill m-0"},ls={class:"flex-shrink-0 ps-2"},ns={class:"card-body"},ps={class:"badges my-2"},_s={key:0,class:"badge text-bg-secondary"},ms={key:1,class:"badge text-bg-secondary"},us={key:2,class:"badge text-bg-danger"},bs={class:"card-text"},hs=P({__name:"Podcast",props:{podcast:{}},setup(y){const n=y,{groupLayout:h,stationId:f,stationTz:k}=z(),{$gettext:d}=D(),w=[{key:"play_button",label:"",sortable:!1,class:"shrink pe-0"},{key:"art",label:"",sortable:!1,class:"shrink pe-0"},{key:"title",label:d("Episode"),sortable:!0},{key:"actions",label:d("Actions"),sortable:!1,class:"shrink"}],A=S($(()=>`/public/podcast/${n.podcast.id}/episodes`),f),v=L(A,[B.PublicPodcasts,{station:f},$(()=>n.podcast.id),"episodes"],{staleTime:300*1e3}),{formatTimestampAsDateTime:u}=N(k);return(l,gs)=>{const b=R("router-link");return e(),c(U,null,[t("div",j,[t("div",q,[t("div",G,[t("nav",K,[t("ol",W,[t("li",H,[i(b,{to:{name:"public:podcasts"}},{default:r(()=>[p(a(o(d)("Podcasts")),1)]),_:1})]),t("li",J,a(l.podcast.title),1)])]),i(V,{podcast:l.podcast},null,8,["podcast"]),t("div",M,[t("a",{class:"btn btn-warning btn-sm",href:l.podcast.links.public_feed,target:"_blank"},[i(E,{icon:o(I)},null,8,["icon"]),p(" "+a(o(d)("RSS")),1)],8,O)])]),t("div",X,[i(g,{src:l.podcast.art,width:128},null,8,["src"])])])]),o(h)==="table"?(e(),_(C,{key:0,id:"podcast-episodes",paginated:"",fields:w,provider:o(v)},{"cell(play_button)":r(({item:s})=>[i(x,{"icon-class":"lg",stream:{title:s.title,url:s.links.download}},null,8,["stream"])]),"cell(art)":r(({item:s})=>[s.art!==null?(e(),_(g,{key:0,src:s.art,width:64},null,8,["src"])):m("",!0)]),"cell(title)":r(({item:s})=>[t("h5",Y,[i(b,{to:{name:"public:podcast:episode",params:{podcast_id:l.podcast.id,episode_id:s.id}}},{default:r(()=>[p(a(s.title),1)]),_:2},1032,["to"])]),t("div",Z,[s.publish_at?(e(),c("span",ss,a(o(u)(s.publish_at)),1)):(e(),c("span",ts,a(o(u)(s.created_at)),1)),s.explicit?(e(),c("span",os,a(o(d)("Explicit")),1)):m("",!0)]),t("p",as,a(s.description_short),1)]),"cell(actions)":r(({item:s})=>[t("div",es,[i(b,{to:{name:"public:podcast:episode",params:{podcast_id:l.podcast.id,episode_id:s.id}},class:"btn btn-primary"},{default:r(()=>[p(a(o(d)("Details")),1)]),_:1},8,["to"])])]),_:1},8,["provider"])):(e(),_(Q,{key:1,id:"podcast-episodes-grid",ref:"$grid",paginated:"",provider:o(v)},{item:r(({item:s})=>[t("div",is,[t("div",rs,[t("div",cs,[i(x,{"icon-class":"lg",stream:{title:s.title,url:s.links.download}},null,8,["stream"])]),t("h5",ds,[i(b,{to:{name:"public:podcast:episode",params:{podcast_id:l.podcast.id,episode_id:s.id}}},{default:r(()=>[p(a(s.title),1)]),_:2},1032,["to"])]),t("div",ls,[s.art!==null?(e(),_(g,{key:0,src:s.art,width:64},null,8,["src"])):m("",!0)])]),t("div",ns,[t("div",ps,[s.publish_at?(e(),c("span",_s,a(o(u)(s.publish_at)),1)):(e(),c("span",ms,a(o(u)(s.created_at)),1)),s.explicit?(e(),c("span",us,a(o(d)("Explicit")),1)):m("",!0)]),t("p",bs,a(s.description_short),1)])])]),_:1},8,["provider"]))],64)}}}),fs={class:"full-height-scrollable"},st=P({__name:"PodcastWrapper",setup(y){const{data:n,isLoading:h}=F();return(f,k)=>(e(),c("div",fs,[i(T,{loading:o(h),lazy:""},{default:r(()=>[o(n)?(e(),_(hs,{key:0,podcast:o(n)},null,8,["podcast"])):m("",!0)]),_:1},8,["loading"])]))}});export{st as default};
